<div class="ui-g">
  <div class="ui-g-12 no-padding">
    <div class="card no-padding">
      <div style="margin-bottom:0" class="panel panel-default">
        <div class="panel-heading">
          <div class="row">
            <div class="col-md-12">
              <h2 class="panel-title pull-left">
                {{ formTitle }}
              </h2>
            </div>
          </div>
        </div>

        <div class="panel-body">
          <div class="form-horizontal">
            <form [formGroup]="form" novalidate>
              <div class="form-group">
                <label for="" class="control-label col-md-2 pr_0">
                  Product
                </label>
                <div class="col-md-4">
                  <select
                    name="product"
                    class="form-control"
                    id=""
                    formControlName="product"
                    (change)="getDetails($event.target.value)"
                  >
                    <option
                      *ngFor="let product of accountSetUpProduct"
                      [value]="product.depositAccountId"
                    >{{ product.accountName }}</option
                    >
                  </select>
                </div>

                <label for="" class="control-label col-md-2 pr_0">
                  Transaction Reference
                </label>
                <div class="col-md-4">
                  <input
                    type="text"
                    class="form-control"
                    formControlName="transactionReference"
                    name="transactionId"
                  />
                </div>
              </div>
              <div class="form-group">
                <label for="" class="control-label col-md-2 pr_0">
                  Customer Name
                </label>
                <div class="col-md-4">
                  <select
                    class="form-control"
                    name="accountName"
                    formControlName="customerId"
                    (change)="getCustomerDetails($event.target.value)"
                  >
                    <option value="" selected disabled
                    >--Select Customer--</option
                    >
                    <option
                      *ngFor="let customer of searchResults"
                     [value]="customer.customerId"
                    >{{ customer.name }}</option
                    >
                  </select>
                </div>
                <label for="" class="control-label col-md-2 pr_0">
                  Account Number
                </label>
                <div class="col-md-4">
                  <input
                    type="text"
                    class="form-control"
                    formControlName="account_number"
                    name="accountNumber"
                    readonly
                  />
                </div>
              </div>
              <div class="form-group">
                <label class="control-label col-md-2 pr_0">Account Type</label>
                <div class="col-md-4">
                  <select
                    name="accountType"
                    class="form-control"
                    formControlName="accountType"
                    id=""
                    disabled
                  >
                    <option value="" selected disabled
                    >--Select Account Type--</option
                    >
                    <option
                      *ngFor="let item of accountType"
                      [value]="item.accountTypeId"
                    >{{ item.name }}</option
                    >
                  </select>
                </div>
                <label for="" class="control-label col-md-2">
                  Currency
                </label>
                <div class="col-md-4">
                  <select
                    class="form-control"
                    formControlName="currency"
                    name="currency"
                    (change)="getExchangeRate($event.target.value)"
                  >
                    <option value="">--Select Currency--</option>
                    <option
                      *ngFor="let currency of currencyArr"
                      [value]="currency.lookupId"
                    >{{ currency.lookupName }}</option
                    >
                  </select>
<!--                  <ng-select [items]="currencies" bindValue="lookupId" bindLabel="lookupName"-->
<!--                             formControlName="currency" [multiple]="true" [closeOnSelect]="false">-->
<!--                    <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">-->
<!--                      <input id="item-{{index}}" type="checkbox" [ngModel]="item$.selected"-->
<!--                             [ngModelOptions]="{standalone: true}" /> {{item.lookupName}}-->
<!--                    </ng-template>-->
<!--                  </ng-select>-->
                </div>
              </div>
              <div class="form-group">
                <label for="" class="control-label col-md-2 pr_0">
                  Amount
                </label>
                <div class="col-md-4">
                  <input
                    type="number"
                    class="form-control"
                    formControlName="amount"
                    name="amount"
                  />
                </div>
                <label for="" class="control-label col-md-2">
                  Transaction Description
                </label>
                <div class="col-md-4">
                  <input
                    type="text"
                    formControlName="description"
                    name="transactionDescription"
                    class="form-control"
                  />
                </div>
              </div>
              <div class="form-group">
                <label for="" class="control-label col-md-2">
                  Transaction date
                </label>
                <div class="col-md-4">
                  <input type="date" class="form-control" formControlName="transactionDate"/>
<!--                  <p-calendar-->
<!--                    name="transactionDate"-->
<!--                    class="form-control"-->
<!--                    formControlName="transactionDate"-->
<!--                    [monthNavigator]="true"-->
<!--                    [yearNavigator]="true"-->
<!--                    yearRange="1900:2100"-->
<!--                    [showIcon]="true"-->
<!--                    [inputStyle]="{ width: '100%' }"-->
<!--                    [style]="{-->
<!--                      width: '100%',-->
<!--                      'z-index': '100'-->
<!--                    }"-->
<!--                  ></p-calendar>-->
                </div>
                <label for="" class="control-label col-md-2">
                  Value Date
                </label>
                <div class="col-md-4">
                  <input type="date" class="form-control" formControlName="value_date"/>
<!--                  <p-calendar-->
<!--                    name="valueDate"-->
<!--                    class="form-control"-->
<!--                    formControlName="value_date"-->
<!--                    [monthNavigator]="true"-->
<!--                    [yearNavigator]="true"-->
<!--                    yearRange="1900:2100"-->
<!--                    [showIcon]="true"-->
<!--                    [inputStyle]="{ width: '100%' }"-->
<!--                    [style]="{-->
<!--                      width: '100%',-->
<!--                      'z-index': '100'-->
<!--                    }"-->
<!--                  ></p-calendar>-->
                </div>
              </div>
              <div class="form-group">
                <label for="" class="col-md-2 control-label">Structure</label>
                <div class="col-md-4">
                  <select
                    name=""
                    id=""
                    formControlName="structure"
                    class="form-control"
                  >
                    <option value="" selected disabled
                    >--Select Structure--</option
                    >
                    <option
                      *ngFor="let item of companyStructure"
                      [value]="item.companyStructureId"
                    >{{ item.name }}</option
                    >
                  </select>
                </div>
                <label for="" class="control-label col-md-2">
                  Withdrawal type
                </label>
                <div class="col-md-4">
                  <select
                    name="withdrawalType"
                    class="form-control"
                    formControlName="withdrawal_type"
                    id=""
                  >
                    <option value="1">Cheque</option>
                    <option value="2">Withdrawal Slip</option>
                    <option value="3">Withdrawal instruction</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label for="" class="col-md-2 control-label"
                >Withdrawal Instrument Number</label
                >
                <div class="col-md-4">
                  <input
                    type="text"
                    name="instrumentNumber"
                    formControlName="withdrawal_instrument_number"
                    class="form-control"
                  />
                </div>
                <label for="" class="control-label col-md-2"
                >Withdrawal Instrument Date</label
                >
                <div class="col-md-4">
                  <input type="date" class="form-control" formControlName="withdrawal_instrument_date"/>
<!--                  <p-calendar-->
<!--                    name="instrumentDate"-->
<!--                    formControlName="instrumentDate"-->
<!--                    class="form-control"-->
<!--                    [monthNavigator]="true"-->
<!--                    [yearNavigator]="true"-->
<!--                    yearRange="1900:2100"-->
<!--                    [showIcon]="true"-->
<!--                    [inputStyle]="{ width: '100%' }"-->
<!--                    [style]="{-->
<!--                      width: '100%',-->
<!--                      'z-index': '100'-->
<!--                    }"-->
<!--                  ></p-calendar>-->
                </div>
              </div>
              <div class="form-group">
                <label for="" class="control-label col-md-2"
                >Exchange Rate</label
                >
                <div class="col-md-4">
                  <input
                    type="text"
                    name="exchangeRate"
                    formControlName="exchnage_right"
                    class="form-control"
                    disabled
                  />
                </div>
<!--                <label for="" class="control-label">Total Charges</label>-->
<!--                <div class="col-md-4">-->
<!--                  <input type="text" name="totalCharge" formControlName="totalCharge" class="form-control">-->
<!--                </div>-->
              </div>
            </form>
          </div>
        </div>
        <div class="panel-footer">
          <div class="row">
            <div class="col-md-12">
              <button
                style="margin-right:5px"
                type="button"
                [disabled]="!form.valid"
                class="btn btn-primary pull-right"
                (click)="submitWithdrawal(form)"
              >
                Save
              </button>
              <button
                type="button"
                style="margin-right:5px"
                class="btn btn-danger pull-right"
                (click)="goBack()"
              >
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
