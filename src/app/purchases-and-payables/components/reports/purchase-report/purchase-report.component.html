<div class="ui-g">
  <div class="ui-g-12 no-padding">
    <div style="margin-bottom:0" class="panel panel-default">
      <div class="panel-heading">
        <div class="row">
          <div class="col-md-12">
            <h2 class="panel-title pull-left">
              Purchase Report
            </h2>
          </div>
        </div>
      </div>

      <div class="panel-body">
        <div class="form-horizontal">
          <form [formGroup]="form" class="form__flex flex_wrap">
            <div class="mr_5 mb_10 form__width">
              <label>Start Date</label>
              <input type="date" class="form-control" formControlName="fromDate"/>
<!--              <p-calendar-->
<!--                formControlName="fromDate"-->
<!--                class="form-control"-->
<!--                [monthNavigator]="true"-->
<!--                [yearNavigator]="true"-->
<!--                [showIcon]="true"-->
<!--                yearRange="1900:2100"-->
<!--                [inputStyle]="{ width: '100%' }"-->
<!--                [style]="{-->
<!--                                            width: '100%',-->
<!--                                            'z-index': '999'-->
<!--                                        }"-->
<!--              ></p-calendar>-->
            </div>
            <div class="mr_5 mb_10 form__width">
              <label>End Date</label>
              <input type="date" class="form-control" formControlName="toDate"/>
<!--              <p-calendar-->
<!--                formControlName="toDate"-->
<!--                class="form-control"-->
<!--                [monthNavigator]="true"-->
<!--                [yearNavigator]="true"-->
<!--                [showIcon]="true"-->
<!--                yearRange="1900:2100"-->
<!--                [inputStyle]="{ width: '100%' }"-->
<!--                [style]="{-->
<!--                                            width: '100%',-->
<!--                                            'z-index': '999'-->
<!--                                        }"-->
<!--              ></p-calendar>-->
            </div>
            <div class="process_btn_div" style="margin-top: 11px;">
              <button
                class="btn btn-success"
                (click)="getReport(form)"
              >
                Process Report
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="panel-body">
  <div class="form-horizontal">
    <div class="row">
      <div class="col-md-12">
        <p-table #dt [columns]="cols" [value]="report" [scrollable]="true" [scrollHeight]="viewHeight"
                 [responsive]="true">
          <ng-template pTemplate="caption">
            <div style="text-align: right">
              <input type="text" pInputText size="50" class="form-control" placeholder="Search..."
                     (keyup)="dt.filterGlobal($event.target.value, 'contains')" style="width:auto" />
            </div>
          </ng-template>
          <ng-template pTemplate="header">
            <tr>
<!--              <th class="sn_width">S/N</th>-->
              <th [pSortableColumn]="'lpoNumber'">LPO Number</th>
              <th [pSortableColumn]="'requestDate'">Request Date</th>
              <th [pSortableColumn]="'deleiveryLocation'">Location</th>
              <th [pSortableColumn]="'supplierName'">Supplier Name</th>
              <th [pSortableColumn]="'description'">Description</th>
              <th [pSortableColumn]="'departmentName'">Department</th>
              <th [pSortableColumn]="'expectedDeleiveryDate'">Exp delivery date </th>
              <th [pSortableColumn]="'actualDeleiverDate'">Actual delivery date</th>
              <th [pSortableColumn]="'amountPayable'">Amount Payable</th>
              <th [pSortableColumn]="'amountPaid'">Amount paid </th>
              <th [pSortableColumn]="'outStandingAmount'">Outstanding Amount</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-x let-i="rowIndex">
            <tr>
              <td>{{ x.lpoNumber }}</td>
              <td>{{ x.requestDate | date }}</td>
              <td>{{x.deleiveryLocation}}</td>
              <td>{{ x.supplierName }}</td>
              <td>{{ x.description  }}</td>
              <td>{{x.departmentName}}</td>
              <td>{{x.expectedDeleiveryDate | date}}</td>
              <td>
               {{x.actualDeleiverDate | date}}
              </td>
              <td>{{x.amountPayable | number: '1.2-2'}}</td>
              <td>{{x.amountPaid | number: '1.2-2'}}</td>
              <td>{{x.outStandingAmount | number: '1.2-2'}}</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </div>
</div>
